(()=>{"use strict";function e(e,t,n,d){let o=document.createElement("div");o.classList.add("project"),o.dataset.index=d,o.textContent=t;let l=document.createElement("em");return l.classList.add("delete"),l.textContent=n,o.appendChild(l),{expandHtml:()=>e.appendChild(o),div:o,isActive:!1}}function t(e,t,n,d){const o=document.createElement("aside");o.classList.add("type-project-name");const l=document.createElement("h2");l.classList.add("overlay-title"),l.textContent=t;const i=document.createElement("input");i.id="project-name",i.type="text";const a=document.createElement("button");a.id="btn-project-name",a.textContent=n;const c=document.createElement("button");return c.id="btn-cancel-project",c.textContent=d,o.appendChild(l),o.appendChild(i),o.appendChild(a),o.appendChild(c),{expandHtml:()=>e.appendChild(o),aside:o,button1:a,button2:c,input:i,h2:l}}function n(e,t){let n=["height","medium","low"];const d=document.createElement("div");d.classList.add("todo"),d.dataset.index=t;const o=document.createElement("em");o.classList.add("delete"),o.textContent="X";const l=document.createElement("h3");l.classList.add("todo-title"),l.style.display="none";const i=document.createElement("span");i.classList.add("todo-description"),i.style.display="none";const a=document.createElement("input");a.type="text",a.classList.add("input-todo-title"),a.placeholder="Title";const c=document.createElement("input");c.type="text",c.classList.add("input-todo-description"),c.placeholder="Description";const s=document.createElement("input");s.type="date";const r=document.createElement("label");r.setAttribute("for","todo-priority"),r.textContent="priority:";const p=document.createElement("select");p.classList.add("todo-priority"),p.name="todo-priority";let u=[];for(let e=0;e<n.length;e++){const t=document.createElement("option");u.push(t),t.value=n[e],t.textContent=n[e],p.appendChild(t)}const m=document.createElement("button");m.id="edit",m.textContent="Edit";const h=document.createElement("button");return h.classList.add("submit"),h.textContent="Submint",d.appendChild(o),d.appendChild(l),d.appendChild(i),d.appendChild(a),d.appendChild(c),d.appendChild(s),d.appendChild(r),d.appendChild(p),d.appendChild(m),d.appendChild(h),{expandHtml:()=>e.appendChild(d),addContent:()=>{if(""==!a.value&&""==!c){let e=a.value,t=c.value;a.style.display="none",c.style.display="none",l.textContent=e,i.textContent=t,l.style.display="block",i.style.display="block"}},todoDiv:d,options:u}}let d=[],o=[];const l=()=>{for(let e of d)e.isActive=!1},i=(...e)=>{for(let t of e)t.classList.toggle("hidden")},a=(e,t)=>{for(let e of d)e.div.style.backgroundColor="white";e.isActive?t.style.backgroundColor="lightgreen":t.style.backgroundColor="white"},c=()=>{let e=1;for(let t of d)t.div.dataset.index=e,e++},s=((()=>{const n=document.querySelector("#sidebar"),o=document.querySelector("main"),c=document.querySelector("#btn-add-project");let s=document.querySelector(".overlay"),r=new e(n,"Default","X",1);r.isActive=!0,d.push(r),a(r,r.div);let p=new t(o,"Add new project name","Add Project","Cancel");r.expandHtml(),c.addEventListener("click",(()=>{p.expandHtml(),i(p.aside,s)})),p.button2.addEventListener("click",(()=>{i(p.aside,s),p.h2.textContent="Add new Project name",p.input.value=""})),p.button1.addEventListener("click",(()=>{if(""===p.input.value)p.h2.textContent="Please type in a Project name";else{let t=new e(n,p.input.value,"X",d.length+1);t.expandHtml(),l(),t.isActive=!0,d.push(t),p.input.value="",i(p.aside,s),a(t,t.div)}}))})(),document.querySelector("#sidebar"));s.addEventListener("click",(e=>{let t=e.target;for(;null!=t;){if(t.matches(".project")){let e=d[t.dataset.index-1];return l(),e.isActive=!0,void a(e,e.div)}t=t.parentElement}}),!0),s.addEventListener("click",(e=>{let t=e.target;for(;null!=t;){if(t.matches(".delete"))return d[t.parentElement.dataset.index-1].isActive&&(l(),d[0].isActive=!0,a(d[0],d[0].div)),d.length<=1||(d.splice([t.parentElement.dataset.index-1],1),t.parentElement.remove()),void c();t=t.parentElement}}),!0);const r=document.querySelector(".content");document.querySelector(".add-todo").addEventListener("click",(()=>{let e="";for(let t of d)t.isActive&&(e=t.div.firstChild.textContent);if(o.length<1){let t=new n(r,1);t.expandHtml(),o.push(t),t.todoDiv.dataset.name=e,t.todoDiv.style.backgroundColor="coral"}else{let t=new n(r,o.length+1);t.expandHtml(),o.push(t),t.todoDiv.dataset.name=e,t.todoDiv.style.backgroundColor="coral"}})),((e,t)=>{e.addEventListener("click",(e=>{let t=e.target;for(;null!=t;)t.matches(".submit")&&o.find((e=>e.todoDiv==t.parentElement)).addContent(),t=t.parentElement}),!0)})(r),((e,t)=>{e.addEventListener("change",(e=>{let t=e.target;for(;null!=t;){if(t.matches(".todo-priority")){let e=o.find((e=>e.todoDiv==t.parentElement));t.children[0].selected?e.todoDiv.style.backgroundColor="coral":t.children[1].selected?e.todoDiv.style.backgroundColor="gold":t.children[2].selected&&(e.todoDiv.style.backgroundColor="darkseagreen")}t=t.parentElement}}),!0)})(r)})();