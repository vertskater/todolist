(()=>{"use strict";function e(e,t,n,d){let l=document.createElement("div");l.classList.add("project"),l.dataset.index=d,l.textContent=t;let i=document.createElement("em");return i.classList.add("delete"),i.textContent=n,l.appendChild(i),{expandHtml:()=>e.appendChild(l),div:l,isActive:!1}}function t(e,t,n,d){const l=document.createElement("aside");l.classList.add("type-project-name");const i=document.createElement("h2");i.classList.add("overlay-title"),i.textContent=t;const a=document.createElement("input");a.id="project-name",a.type="text";const o=document.createElement("button");o.id="btn-project-name",o.textContent=n;const c=document.createElement("button");return c.id="btn-cancel-project",c.textContent=d,l.appendChild(i),l.appendChild(a),l.appendChild(o),l.appendChild(c),{expandHtml:()=>e.appendChild(l),aside:l,button1:o,button2:c,input:a,h2:i}}let n=[];const d=()=>{for(let e of n)e.isActive=!1},l=(...e)=>{for(let t of e)t.classList.toggle("hidden")},i=(e,t)=>{for(let e of n)e.div.style.backgroundColor="white";e.isActive?t.style.backgroundColor="lightgreen":t.style.backgroundColor="white"},a=()=>{let e=1;for(let t of n)t.div.dataset.index=e,e++},o=((()=>{const a=document.querySelector("#sidebar"),o=document.querySelector("main"),c=document.querySelector("#btn-add-project");let r=document.querySelector(".overlay"),s=new e(a,"Default","X",1);s.isActive=!0,n.push(s),i(s,s.div);let u=new t(o,"Add new project name","Add Project","Cancel");s.expandHtml(),c.addEventListener("click",(()=>{u.expandHtml(),l(u.aside,r)})),u.button2.addEventListener("click",(()=>{l(u.aside,r),u.h2.textContent="Add new Project name",u.input.value=""})),u.button1.addEventListener("click",(()=>{if(""===u.input.value)u.h2.textContent="Please type in a Project name";else{let t=new e(a,u.input.value,"X",n.length+1);t.expandHtml(),d(),t.isActive=!0,n.push(t),u.input.value="",l(u.aside,r),i(t,t.div)}}))})(),document.querySelector("#sidebar"));o.addEventListener("click",(e=>{let t=e.target;for(;null!=t;){if(t.matches(".project")){let e=n[t.dataset.index-1];return d(),e.isActive=!0,console.log(e,e.div),i(e,e.div),void console.log(n)}t=t.parentElement}}),!0),o.addEventListener("click",(e=>{let t=e.target;for(;null!=t;){if(t.matches(".delete"))return n[t.parentElement.dataset.index-1].isActive&&(d(),n[0].isActive=!0,i(n[0],n[0].div)),n.length<=1||(n.splice([t.parentElement.dataset.index-1],1),t.parentElement.remove()),void a();t=t.parentElement}}),!0)})();