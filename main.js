(()=>{"use strict";function e(e,t,n,d){let o=document.createElement("div");o.classList.add("project"),o.dataset.index=d,o.textContent=t;let l=document.createElement("em");return l.classList.add("delete"),l.textContent=n,o.appendChild(l),{expandHtml:()=>e.appendChild(o),div:o,isActive:!1}}function t(e,t,n,d){const o=document.createElement("aside");o.classList.add("type-project-name");const l=document.createElement("h2");l.classList.add("overlay-title"),l.textContent=t;const i=document.createElement("input");i.id="project-name",i.type="text";const c=document.createElement("button");c.id="btn-project-name",c.textContent=n;const a=document.createElement("button");return a.id="btn-cancel-project",a.textContent=d,o.appendChild(l),o.appendChild(i),o.appendChild(c),o.appendChild(a),{expandHtml:()=>e.appendChild(o),aside:o,button1:c,button2:a,input:i,h2:l}}function n(e){let t=["height","medium","low"];const n=document.createElement("div");n.classList.add("todo");const d=document.createElement("em");d.classList.add("delete"),d.textContent="X";const o=document.createElement("h3");o.classList.add("todo-title"),o.style.display="none";const l=document.createElement("span");l.classList.add("todo-description"),l.style.display="none";const i=document.createElement("input");i.type="text",i.id="input-todo-title",i.placeholder="Title";const c=document.createElement("input");c.type="text",c.id="input-todo-description",c.placeholder="Description";const a=document.createElement("input");a.type="date";const r=document.createElement("label");r.setAttribute("for","todo-priority"),r.textContent="priority:";const s=document.createElement("select");s.id="todo-priority",s.name="todo-priority";for(let e=0;e<t.length;e++){const n=document.createElement("option");n.value=t[e],n.textContent=t[e],s.appendChild(n)}const p=document.createElement("button");p.id="edit",p.textContent="Edit";const u=document.createElement("button");return u.id="submit",u.textContent="Submint",n.appendChild(d),n.appendChild(o),n.appendChild(l),n.appendChild(i),n.appendChild(c),n.appendChild(a),n.appendChild(r),n.appendChild(s),n.appendChild(p),n.appendChild(u),{expandHtml:()=>e.appendChild(n)}}let d=[];const o=()=>{for(let e of d)e.isActive=!1},l=(...e)=>{for(let t of e)t.classList.toggle("hidden")},i=(e,t)=>{for(let e of d)e.div.style.backgroundColor="white";e.isActive?t.style.backgroundColor="lightgreen":t.style.backgroundColor="white"},c=()=>{let e=1;for(let t of d)t.div.dataset.index=e,e++},a=((()=>{const n=document.querySelector("#sidebar"),c=document.querySelector("main"),a=document.querySelector("#btn-add-project");let r=document.querySelector(".overlay"),s=new e(n,"Default","X",1);s.isActive=!0,d.push(s),i(s,s.div);let p=new t(c,"Add new project name","Add Project","Cancel");s.expandHtml(),a.addEventListener("click",(()=>{p.expandHtml(),l(p.aside,r)})),p.button2.addEventListener("click",(()=>{l(p.aside,r),p.h2.textContent="Add new Project name",p.input.value=""})),p.button1.addEventListener("click",(()=>{if(""===p.input.value)p.h2.textContent="Please type in a Project name";else{let t=new e(n,p.input.value,"X",d.length+1);t.expandHtml(),o(),t.isActive=!0,d.push(t),p.input.value="",l(p.aside,r),i(t,t.div)}}))})(),document.querySelector("#sidebar"));a.addEventListener("click",(e=>{let t=e.target;for(;null!=t;){if(t.matches(".project")){let e=d[t.dataset.index-1];return o(),e.isActive=!0,console.log(e,e.div),i(e,e.div),void console.log(d)}t=t.parentElement}}),!0),a.addEventListener("click",(e=>{let t=e.target;for(;null!=t;){if(t.matches(".delete"))return d[t.parentElement.dataset.index-1].isActive&&(o(),d[0].isActive=!0,i(d[0],d[0].div)),d.length<=1||(d.splice([t.parentElement.dataset.index-1],1),t.parentElement.remove()),void c();t=t.parentElement}}),!0);const r=document.querySelector(".content");document.querySelector(".add-todo").addEventListener("click",(()=>{console.log(r);let e=new n(r);console.log(e),e.expandHtml()}))})();